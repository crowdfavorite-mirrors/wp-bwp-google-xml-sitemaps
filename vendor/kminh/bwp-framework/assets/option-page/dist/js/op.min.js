function AnchorJS(a){"use strict";this.options=a||{},this._applyRemainingDefaultOptions=function(a){this.options.icon=this.options.hasOwnProperty("icon")?a.icon:"",this.options.visible=this.options.hasOwnProperty("visible")?a.visible:"hover",this.options.placement=this.options.hasOwnProperty("placement")?a.placement:"right",this.options["class"]=this.options.hasOwnProperty("class")?a["class"]:""},this._applyRemainingDefaultOptions(a),this.add=function(a){var b,c,d,e,f,g,h,i,j,k,l,m;if(this._applyRemainingDefaultOptions(this.options),a){if("string"!=typeof a)throw new Error("The selector provided to AnchorJS was invalid.")}else a="h1, h2, h3, h4, h5, h6";if(b=document.querySelectorAll(a),0===b.length)return!1;for(this._addBaselineStyles(),c=document.querySelectorAll("[id]"),d=[].map.call(c,function(a){return a.id}),f=0;f<b.length;f++){if(b[f].hasAttribute("id"))e=b[f].getAttribute("id");else{g=b[f].textContent,h=g.replace(/[^\w\s-]/gi,"").replace(/\s+/g,"-").replace(/-{2,}/g,"-").substring(0,64).replace(/^-+|-+$/gm,"").toLowerCase(),k=h,j=0;do void 0!==i&&(k=h+"-"+j),i=d.indexOf(k),j+=1;while(-1!==i);i=void 0,d.push(k),b[f].setAttribute("id",k),e=k}l=e.replace(/-/g," "),m=document.createElement("a"),m.className="anchorjs-link "+this.options["class"],m.href="#"+e,m.setAttribute("aria-label","Anchor link for: "+l),m.setAttribute("data-anchorjs-icon",this.options.icon),"always"===this.options.visible&&(m.style.opacity="1"),""===this.options.icon&&(m.style.fontFamily="anchorjs-icons",m.style.fontStyle="normal",m.style.fontVariant="normal",m.style.fontWeight="normal",m.style.lineHeight=1,"left"===this.options.placement&&(m.style.lineHeight="inherit")),"left"===this.options.placement?(m.style.position="absolute",m.style.marginLeft="-1em",m.style.paddingRight="0.5em",b[f].insertBefore(m,b[f].firstChild)):(m.style.paddingLeft="0.375em",b[f].appendChild(m))}return this},this.remove=function(a){for(var b,c=document.querySelectorAll(a),d=0;d<c.length;d++)b=c[d].querySelector(".anchorjs-link"),b&&c[d].removeChild(b);return this},this._addBaselineStyles=function(){if(null===document.head.querySelector("style.anchorjs")){var a,b=document.createElement("style"),c=" .anchorjs-link {   opacity: 0;   text-decoration: none;   -webkit-font-smoothing: antialiased;   -moz-osx-font-smoothing: grayscale; }",d=" *:hover > .anchorjs-link, .anchorjs-link:focus  {   opacity: 1; }",e=' @font-face {   font-family: "anchorjs-icons";   font-style: normal;   font-weight: normal;   src: url(data:application/x-font-ttf;charset=utf-8;base64,AAEAAAALAIAAAwAwT1MvMg8SBTUAAAC8AAAAYGNtYXAWi9QdAAABHAAAAFRnYXNwAAAAEAAAAXAAAAAIZ2x5Zgq29TcAAAF4AAABNGhlYWQEZM3pAAACrAAAADZoaGVhBhUDxgAAAuQAAAAkaG10eASAADEAAAMIAAAAFGxvY2EAKACuAAADHAAAAAxtYXhwAAgAVwAAAygAAAAgbmFtZQ5yJ3cAAANIAAAB2nBvc3QAAwAAAAAFJAAAACAAAwJAAZAABQAAApkCzAAAAI8CmQLMAAAB6wAzAQkAAAAAAAAAAAAAAAAAAAABEAAAAAAAAAAAAAAAAAAAAABAAADpywPA/8AAQAPAAEAAAAABAAAAAAAAAAAAAAAgAAAAAAADAAAAAwAAABwAAQADAAAAHAADAAEAAAAcAAQAOAAAAAoACAACAAIAAQAg6cv//f//AAAAAAAg6cv//f//AAH/4xY5AAMAAQAAAAAAAAAAAAAAAQAB//8ADwABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAAAAAAAAAAIAADc5AQAAAAACADEARAJTAsAAKwBUAAABIiYnJjQ/AT4BMzIWFxYUDwEGIicmND8BNjQnLgEjIgYPAQYUFxYUBw4BIwciJicmND8BNjIXFhQPAQYUFx4BMzI2PwE2NCcmNDc2MhcWFA8BDgEjARQGDAUtLXoWOR8fORYtLTgKGwoKCjgaGg0gEhIgDXoaGgkJBQwHdR85Fi0tOAobCgoKOBoaDSASEiANehoaCQkKGwotLXoWOR8BMwUFLYEuehYXFxYugC44CQkKGwo4GkoaDQ0NDXoaShoKGwoFBe8XFi6ALjgJCQobCjgaShoNDQ0NehpKGgobCgoKLYEuehYXAAEAAAABAACiToc1Xw889QALBAAAAAAA0XnFFgAAAADRecUWAAAAAAJTAsAAAAAIAAIAAAAAAAAAAQAAA8D/wAAABAAAAAAAAlMAAQAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAACAAAAAoAAMQAAAAAACgAUAB4AmgABAAAABQBVAAIAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAADgCuAAEAAAAAAAEADgAAAAEAAAAAAAIABwCfAAEAAAAAAAMADgBLAAEAAAAAAAQADgC0AAEAAAAAAAUACwAqAAEAAAAAAAYADgB1AAEAAAAAAAoAGgDeAAMAAQQJAAEAHAAOAAMAAQQJAAIADgCmAAMAAQQJAAMAHABZAAMAAQQJAAQAHADCAAMAAQQJAAUAFgA1AAMAAQQJAAYAHACDAAMAAQQJAAoANAD4YW5jaG9yanMtaWNvbnMAYQBuAGMAaABvAHIAagBzAC0AaQBjAG8AbgBzVmVyc2lvbiAxLjAAVgBlAHIAcwBpAG8AbgAgADEALgAwYW5jaG9yanMtaWNvbnMAYQBuAGMAaABvAHIAagBzAC0AaQBjAG8AbgBzYW5jaG9yanMtaWNvbnMAYQBuAGMAaABvAHIAagBzAC0AaQBjAG8AbgBzUmVndWxhcgBSAGUAZwB1AGwAYQByYW5jaG9yanMtaWNvbnMAYQBuAGMAaABvAHIAagBzAC0AaQBjAG8AbgBzRm9udCBnZW5lcmF0ZWQgYnkgSWNvTW9vbi4ARgBvAG4AdAAgAGcAZQBuAGUAcgBhAHQAZQBkACAAYgB5ACAASQBjAG8ATQBvAG8AbgAuAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA==) format("truetype"); }',f=" [data-anchorjs-icon]::after {   content: attr(data-anchorjs-icon); }";b.className="anchorjs",b.appendChild(document.createTextNode("")),a=document.head.querySelector('[rel="stylesheet"], style'),void 0===a?document.head.appendChild(b):document.head.insertBefore(b,a),b.sheet.insertRule(c,b.sheet.cssRules.length),b.sheet.insertRule(d,b.sheet.cssRules.length),b.sheet.insertRule(f,b.sheet.cssRules.length),b.sheet.insertRule(e,b.sheet.cssRules.length)}}}function bwp_populate_feed_news(a){bwp_op.populate_feed_news(a)}function bwp_populate_feed_gems(a){bwp_op.populate_feed_gems(a)}var anchors=new AnchorJS;jQuery(function(a){"use strict";var b=function(b){var c=b.data("contentId");return c?a("#"+c).html():void 0},c=function(b,c){return a(c).data("placement")?a(c).data("placement"):"auto top"};a("#wpcontent").popover({selector:".bwp-popover-hover",trigger:"hover",viewport:{selector:"#wpcontent",padding:10},placement:c,html:!0,content:b(a(this))}),a(".wrap").popover({selector:".bwp-popover-focus",trigger:"focus",viewport:{selector:"#wpcontent",padding:10},placement:c,html:!0,content:b(a(this))}),a(".wrap").on("click",".bwp-popover-switch",function(d){d.preventDefault();var e=a(this);e.data("bs.popover")||e.popover({trigger:"manual",viewport:{selector:"#wpcontent",padding:10},placement:c,html:!0,content:b(e)}),e.popover("toggle")}).on("click",function(b){var c=a(b.target);c.is(".bwp-popover")||c.parents(".bwp-popover").length>0||!c.is(".bwp-popover-switch")&&!c.is(".bwp-popover-focus")&&!c.parents(".bwp-popover-switch").length>0&&!c.parents(".bwp-popover-focus").length>0&&a(".bwp-popover-switch").popover("hide")}).on("show.bs.popover",".bwp-popover-switch",function(b){var c=a(this),d=c.data("bs.popover").$tip,e=c.data("submitCallback");d.on("click",".bwp-popover-close",function(a){a.preventDefault(),c.popover("hide")}),d.on("click",".bwp-popover-submit",function(b){b.preventDefault();var f=a(this).data("submitCallback");"undefined"!=typeof f?window[f](a,a(this),c,d):"undefined"!=typeof e&&window[e](a,a(this),c,d),c.popover("hide")})}).on("hide.bs.popover",".bwp-popover-switch",function(b){var c=a(this),d=c.data("bs.popover").$tip;d.off("click",".bwp-popover-close"),d.off("click",".bwp-popover-submit")}),a(".wrap").on("show.bs.popover",".bwp-popover-hover, .bwp-popover-focus, .bwp-popover-switch",function(){var b=a(this),c=b.data("popoverClass");c&&b.data("bs.popover").$tip.addClass(c)})}),jQuery(function(a){"use strict";function b(b){var c=b.data("target"),d=b.data("toggleValue"),e=a.trim(b.val()),f=b.data("toggledLabel");if(b.is(":button")&&f){var g=b.text()?b.text():b.val();b.data("toggledLabel",g),b.text(f)}var h=a("#"+c).is(":input")||a("#"+c).is("h3")?a("#"+c).parents(".bwp-clear"):a("#"+c);if(d)b.is(":button")||h.toggleClass("bwp-no-display",d!==e);else if(b.is(":button"))h.toggleClass("bwp-no-display");else if(b.is(":checkbox")){var i=b.data("checkboxInvert");i?h.toggleClass("bwp-no-display",b.prop("checked")):h.toggleClass("bwp-no-display",!b.prop("checked"))}else h.toggleClass("bwp-no-display",""===e);b.prop("disabled",!1)}function c(b){var c=b.data("callbackAfter");"function"==typeof window[c]&&window[c](a,b)}function d(d){var e=d.data("loader"),f=d.data("callback");e&&a("#"+e).show(),d.prop("disabled",!0),"function"==typeof window[f]?e?window[f](a,d,function(){a("#"+e).hide(),b(d),c(d)}):(window[f](a,d),b(d),c(d)):(a("#"+e).hide(),b(d),c(d))}a(".bwp-switch-select").on("change",function(b){d(a(this)),b.preventDefault()}),a(".bwp-switch-button").on("click",function(b){d(a(this)),b.preventDefault()}),a(".bwp-switch-on-load").each(function(){b(a(this))})});var bwp_op=function(a){function b(b,c){a.each(b,function(b,d){var e=a("<li>");if(a("<a>",{text:d.title}).attr("target","_blank").attr("href",d.permalink+"?utm_source="+c.data("pluginKey")+"&utm_medium=feed&utm_campaign=sidebar-2016"+(d.just_in?"&utm_content=justin":"")).appendTo(e),d.just_in&&a("<span />",{"class":"bwp-justin",text:" Just in!"}).appendTo(e),a("<br />").appendTo(e),d.views){var f=d.comment_count?""+parseInt(d.comment_count,10)+' <span class="bwp-meta">comments</span><span class="bwp-meta"> / </span>':"";f=f+parseInt(d.views/1e3,10)+'k+ <span class="bwp-meta">views</span>',a("<span />",{html:f}).appendTo(e)}else a("<span />",{"class":"bwp-meta",text:d.post_date_gmt}).appendTo(e);e.appendTo(c.find(".bwp-feed"))}),c.find(".bwp-loader").hide()}function c(c){b(c,a("#bwp-news"))}function d(c){b(c,a("#bwp-gems"))}function e(b,c){b+="?_jsonp=?",a.ajax(b,{cache:!0,dataType:"jsonp",jsonpCallback:c})}return a(function(){"use strict";bwp_common.enhance_form_fields(),"undefined"!=typeof anchors&&anchors.add(".bwp-option-page h3"),e("http://betterwp.net/wp-json/bwp/v1/news","bwp_populate_feed_news"),e("http://betterwp.net/wp-json/bwp/v1/gems","bwp_populate_feed_gems")}),{populate_feed_news:c,populate_feed_gems:d}}(jQuery);